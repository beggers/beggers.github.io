---
import PostListItem from './PostListItem.astro';
import Tag from './Tag.astro';
import { recentPosts } from '../data/posts.js';

let allPosts = await Astro.glob('../_posts/*.mdx');
const recents = await recentPosts(allPosts);
---

<recentPosts>
  <h2> Recent Posts </h2>
  <ul>
    {
      recents.map(
        ({
          url,
          frontmatter: { title, slug, published, tags }
        }) => (
          <PostListItem {slug} {title} {published} {tags} />
        )
      )
    }
  </ul>
</recentPosts>
