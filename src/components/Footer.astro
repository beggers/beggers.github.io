---
import Section from './Section.astro';
import Tag from './Tag.astro';

import { getTagsToPosts } from '../data/posts.js';

const today = new Date();

const posts = await Astro.glob(`../_posts/*.mdx`);
const tagsToPosts = getTagsToPosts(posts);
---

<style>
	.copywrite {
		padding: 25px;
		text-align: center;
	}
</style>

<footer>
  <Section>
    <h2> Posts by tag </h2>
    <ul>
      {
        Object.keys(tagsToPosts).map(tag => (
          <li>
            <Tag label={tag} />
          </li>
        ))
      }
    </ul>
  </Section>

  <Section>
    <h2> Contact </h2>
    <p>
      Get in touch! You can reach me at ben@beneggers.com.
    </p>
  </Section>

  <div class="copywrite">
	  &copy; {today.getFullYear()} Ben Eggers
  </div>
</footer>
